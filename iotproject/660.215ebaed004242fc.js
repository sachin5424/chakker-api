"use strict";(self.webpackChunkIOTProject=self.webpackChunkIOTProject||[]).push([[660],{660:(F,u,o)=>{o.r(u),o.d(u,{DeviceAccessSetupModule:()=>I});var p=o(9808),n=o(3075),e=o(5e3),m=o(2340),h=o(520);let v=(()=>{class s{constructor(t){this._http=t}getPermissionDeviceAccess(){return this._http.get(m.N.baseUrl+"/admin/user/get/permission")}getUserList(){return this._http.get(m.N.baseUrl+"/admin/user-list")}addPermissions(t){return this._http.post(m.N.baseUrl+"/admin/user/create/permission",t)}chekUserPermissions(t){return this._http.get(m.N.baseUrl+"admin/check/users/permission/"+t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(h.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var a=o(8966),g=o(7446),d=o(7423);function A(s,i){if(1&s&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&s){const t=i.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.username)}}function f(s,i){if(1&s&&(e.TgZ(0,"div",18,19)(2,"section",20)(3,"mat-checkbox",21),e._uU(4),e.ALo(5,"uppercase"),e.qZA()()()),2&s){const t=i.$implicit,c=i.index,r=e.oxw();e.xp6(3),e.Q6J("checked",t.checked),e.xp6(1),e.AsE(" ",e.lcZ(5,3,t.title)," ",r.tempPermissionsID[c]==t._id," ")}}let D=(()=>{class s{constructor(t){this._http=t,this.panelOpenState=!0,this.typesOfShoes=["LIST","ADD","UPDATE","DELETE"],this.typesOfShoes1=[{title:"List View"},{title:"Add"},{title:"Update"}],this.dataSource=[],this.data=[],this.dataId=[],this.userList=[],this.testData=[],this.tempPermissionsID=[],this.AddPermissionsArray=[],this.userForm=new n.cw({userId:new n.NI})}ngOnInit(){this.tempPermissionsID=["623acc4d5d498d065a8edb92"],this.allPermissionData(),this.getUserList()}allPermissionData(){this._http.getPermissionDeviceAccess().subscribe(t=>{this.testData=t.data,this.checkUncheckAll(),t.data.map(c=>{this.data.push(c.model_name)}),this.data=[...new Set(this.data)]})}getUserList(){this._http.getUserList().subscribe(t=>{this.userList=t.data})}test(t){this.AddPermissionsArray.push(t)}addPermission(){this.userForm.valid&&this._http.addPermissions({userId:this.userForm.value.userId,permissions:this.AddPermissionsArray}).subscribe(c=>{alert("done")})}getCheckedItemList(){this.checkedList=this.tempPermissionsID}checkUncheckAll(){for(var t=0;t<this.testData.length;t++)this.testData[t].checked=!0;console.log(this.testData)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-device-access-permission"]],decls:24,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"container"],[1,"row","justify-content-md-center"],[1,"col-md-8"],[3,"formGroup"],[1,"form-group"],["for",""],["name","","id","","formControlName","userId",1,"form-control"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"container",2,"transform","scale(0.9)"],[1,"row"],["class","col-md-4 p-3",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"value"],[1,"col-md-4","p-3"],["items",""],[1,"example-section"],[1,"example-margin",3,"checked"]],template:function(t,c){1&t&&(e.TgZ(0,"h2",0),e._uU(1," DEVICE ACCESS PERMISSIONS\n"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span")(7,"h1"),e._uU(8,"username"),e.qZA()(),e.TgZ(9,"form",5)(10,"div",6),e._UZ(11,"label",7),e.TgZ(12,"select",8)(13,"option",9),e._uU(14,"select user"),e.qZA(),e.YNc(15,A,2,2,"option",10),e.qZA()()()()()(),e.TgZ(16,"div",11)(17,"div",12),e.YNc(18,f,6,5,"div",13),e.qZA()()(),e.TgZ(19,"mat-dialog-actions",14)(20,"button",15),e._uU(21,"Cancel"),e.qZA(),e.TgZ(22,"button",16),e.NdJ("click",function(){return c.addPermission()}),e._uU(23,"Install"),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("formGroup",c.userForm),e.xp6(6),e.Q6J("ngForOf",c.userList),e.xp6(3),e.Q6J("ngForOf",c.testData))},directives:[a.uh,a.xY,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,p.sg,g.oG,a.H8,d.lW,a.ZT],pipes:[p.gd],styles:[""]}),s})();var Z=o(4594),l=o(1451),T=o(5245);let U=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-device-access-setup-table"]],decls:2,vars:0,template:function(t,c){1&t&&(e.TgZ(0,"p"),e._uU(1,"device-access-setup-table works!"),e.qZA())},styles:[""]}),s})(),S=(()=>{class s{constructor(t){this.dialog=t}ngOnInit(){this.openDialog()}openDialog(){this.dialog.open(D).afterClosed().subscribe(c=>{console.log(`Dialog result: ${c}`)})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-device-access-setup-dashboard"]],decls:25,vars:1,consts:[["color","primary",2,"margin-top","-11px"],[1,"extra-space"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item",""]],template:function(t,c){if(1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Device Access SetUp"),e.qZA(),e._UZ(3,"div",1),e.TgZ(4,"button",2)(5,"mat-icon"),e._uU(6,"more_vert"),e.qZA()(),e.TgZ(7,"mat-menu",null,3)(9,"button",4),e.NdJ("click",function(){return c.openDialog()}),e.TgZ(10,"mat-icon"),e._uU(11,"dialpad"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"Redial"),e.qZA()(),e.TgZ(14,"button",5)(15,"mat-icon"),e._uU(16,"voicemail"),e.qZA(),e.TgZ(17,"span"),e._uU(18,"Check voice mail"),e.qZA()(),e.TgZ(19,"button",6)(20,"mat-icon"),e._uU(21,"notifications_off"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Disable alerts"),e.qZA()()()(),e._UZ(24,"app-device-access-setup-table")),2&t){const r=e.MAs(8);e.xp6(4),e.Q6J("matMenuTriggerFor",r)}},directives:[Z.Ye,d.lW,l.p6,T.Hw,l.VK,l.OP,U],styles:[".extra-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),s})(),b=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-device-access-setup-edit"]],decls:2,vars:0,template:function(t,c){1&t&&(e.TgZ(0,"p"),e._uU(1,"device-access-setup-edit works!"),e.qZA())},styles:[""]}),s})();var C=o(1083),P=o(9364);const y=[{path:"",component:S},{path:"add-account",component:b}];let I=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.ez,C.Bz.forChild(y),P.h]]}),s})()}}]);